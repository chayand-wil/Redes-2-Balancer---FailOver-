---
applyTo: '**'
---
Provide project context and coding guidelines that AI should follow when generating code, answering questions, or reviewing changes.

# Instrucciones para el uso de IA en el proyecto

# 1. Variables de Interfaces y Direcciones (Basado en el Diagrama)
WAN_ISP1="eno1"   # Conexión al Firewall 
WAN_ISP2="enx00e04c36035e"   # Conexión al Firewall 
LAN_PROXY="enx00e04c360357"  # Conexión al Proxy 


# Interfaces
# salida del Firewall al ISP1
ISP1_IF_IP="192.168.200.2"

# salida del Firewall al ISP2
ISP2_IF_IP="192.168.255.2"

# entrada del Balanceador al Firewall
FIREWALL_1="11.11.11.1"

# entrada del Balanceador al Firewall
FIREWALL_2="11.11.12.1"


# Toda la topología debe ser implementada con Debian en modo texto ya sea

# Balanceador de Carga
Este equipo recibirá conexión transparente de los dos enlaces de los ISPs. Debe implementar
un sistema de failover automático en caso de caída y/o recuperación de un enlace.
El balanceo de carga dependerá de varios archivos de configuración:
bandwidth.conf
Define el ancho de banda disponible de cada ISP (en Kbps).
#<ISP>, <UP>, <DW>
ISP1, 512, 512
ISP2, 1000, 1000

LB_rules.conf
Define reglas específicas de salida hacia un ISP en particular (ISP1 o ISP2) . Por defecto se
aplicarán las siguientes reglas:
●​ ISP1: Tráfico http y https
●​ ISP2: Resto del tráfico
#<ip_origen>, <puertos>, <protocolo>, <ISP_salida>
192.168.1.1, [443, 80], TCP, ISP1
192.168.1.2, [22], TCP, ISP2


El balanceador deberá también enviar métricas de ancho de banda de cada ISP a Zabbix para
su monitoreo. Solo el administrador puede acceder al dashboard de Zabbix.

Firewall
El firewall cuenta con 4 interfaces de red, conectado entre los ISPs y el balanceador de carga.
Funciona de manera transparente, filtrando únicamente el tráfico entrante antes de llegar al
servidor:
ingress.rules
#<origen>, <destino>, <puertos>, <protocolo>
0.0.0.0, 20.1.56.80,[80,443], TCP

VPN
Se debe configurar un servidor VPN desde la página oficial de Hamachi . Se deberá además
configurar un cliente móvil (Android o iOS). El acceso al servidor WordPress puede hacerse
directamente desde la VPN configurada.




